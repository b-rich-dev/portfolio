<section>
    <div class="contact-wrapper">
        <div class="contact-text">
            @if (currentLanguage() === 'en') {
            <h3>Contact me</h3>
            <h2>Let's work <br> together</h2>
            <h3>Got a problem to solve?</h3>
            <p>
                I’m always open to exciting opportunities in web and app development, especially in projects that value
                modern technologies, clean code, and creative problem-solving.
                As a curious and motivated developer, I quickly adapt to new tools and frameworks and focus on
                delivering real value through efficient, well-structured, and scalable solutions.
                If you’re looking for someone who combines passion, persistence, and precision, I’d be happy to connect
                and contribute to your next project!
                <br><br>
                Need a Frontend developer? <span>Let’s talk!</span>
            </p>
            } @else {
            <h3>Kontaktieren Sie mich</h3>
            <h2>Lasst uns <br> zusammenarbeiten</h2>
            <h3>Haben Sie ein Problem zu lösen?</h3>
            <p>
                Ich bin immer offen für spannende Projekte im Bereich Web- und App-Entwicklung – besonders dort, wo
                moderne Technologien, saubere Code-Strukturen und kreative Lösungen gefragt sind.
                Als wissbegieriger Entwickler arbeite ich mich schnell in neue Tools und Frameworks ein und lege großen
                Wert darauf, durch strukturierte, effiziente und nachhaltige Entwicklung echten Mehrwert zu schaffen.
                Wenn Sie jemanden suchen, der Leidenschaft, Lernfreude und technische Präzision verbindet, dann freue
                ich
                mich darauf, von Ihnen zu hören.
                <br><br>
                Brauchen Sie einen Frontend-Entwickler? <span>Lassen Sie uns reden!</span>
            </p>
            }
        </div>
        <form (ngSubmit)="onSubmit(contactForm)" #contactForm="ngForm" autocomplete="off" data-form-type="other">
            <div class="label-wrapper">
                <label for="name">{{ currentLanguage() === 'en' ? 'What\'s your name?' : 'Wie heißen Sie?' }}</label>
                <input #name="ngModel" id="name" autocomplete="off" [(ngModel)]="contactData.name" name="name" type="text"
                    [placeholder]="getNamePlaceholder(!!(name.invalid && (name.touched || contactForm.submitted)))"
                    required [class.invalid]="name.invalid && (name.touched || contactForm.submitted)" />
            </div>
            <div class="label-wrapper">
                <label for="email">{{ currentLanguage() === 'en' ? 'What\'s your email?' : 'Wie lautet Ihre E-Mail?'
                    }}</label>
                <input #email="ngModel" id="email" autocomplete="off" [(ngModel)]="contactData.email" name="email" type="email"
                    [placeholder]="getEmailPlaceholder(!!(email.invalid && (email.touched || contactForm.submitted)))"
                    required pattern=".+@.+\..+"
                    [class.invalid]="email.invalid && (email.touched || contactForm.submitted)" />
            </div>
            <div class="label-wrapper">
                <label for="message">{{ currentLanguage() === 'en' ? 'How can I help you?' : 'Wie kann ich Ihnen helfen?' }}</label>
                <textarea #message="ngModel" id="message" rows="1" minlength="3" [(ngModel)]="contactData.message" name="message"
                    (input)="onTextareaInput($event)"
                    [placeholder]="getMessagePlaceholder(!!(message.invalid && (message.touched || contactForm.submitted)))"
                    required [class.invalid]="message.invalid && (message.touched || contactForm.submitted)"></textarea>
            </div>
            <div class="warn-wrapper">
                <div class="checkbox-wrapper">
                    <img id="accept-policy" (click)="toggleAcceptPolicy()"
                        [src]="acceptPolicy ? '/assets/img/contact/square_checked.svg' : '/assets/img/contact/square.svg'"
                        alt="Square icon to check" />
                    @if (currentLanguage() === 'en') {
                    <p>I've read the <a routerLink="/privacy-policy">privacy policy</a> and agree to the
                        processing of my data as outlined.</p>
                    } @else {
                    <p>Ich habe die <a routerLink="/privacy-policy">Datenschutzrichtlinie</a> gelesen und
                        stimme der Verarbeitung meiner Daten wie beschrieben zu.</p>
                    }
                </div>
                <p class="policy-warning">
                    @if (!acceptPolicy && contactForm.submitted) {
                    {{ currentLanguage() === 'en' ? 'Please accept the privacy policy.' :
                    'Bitte akzeptieren Sie die Datenschutzrichtlinie.' }}
                    }
                </p>
            </div>
            <button class="btn" type="submit" [disabled]="emailSending">
                @if (!emailSending) {
                <span>{{ currentLanguage() === 'en' ? 'Say Hello :)' : 'Sag Hallo :)' }}</span>
                } @else {
                <span>{{ currentLanguage() === 'en' ? 'Sending...' : 'Wird gesendet...' }}</span>
                }
            </button>
            @if (emailSent) {
            <div class="success-message">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 6L9 17L4 12" stroke="var(--turquoise)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <p>{{ currentLanguage() === 'en' ? 'Message sent successfully! I\'ll get back to you soon.' : 'Nachricht erfolgreich gesendet! Ich melde mich bald bei Ihnen.' }}</p>
            </div>
            }
            @if (emailError) {
            <div class="error-message">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 8v4m0 4h.01M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z" stroke="var(--warn)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <p>{{ emailErrorMessage }}</p>
            </div>
            }
            @if (emailValidationError) {
            <div class="email-validation-message">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" stroke="var(--warn)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <polyline points="22,6 12,13 2,6" stroke="var(--warn)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M8 12l-4 4M20 12l-4 4" stroke="var(--warn)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <p>{{ emailValidationMessage }}</p>
            </div>
            }
            @if (validationError) {
            <div class="validation-message">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" stroke="var(--warn)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M12 9v4M12 17h.01" stroke="var(--warn)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <p>{{ currentLanguage() === 'en' ? 'Please fill out all fields correctly and accept the privacy policy.' : 'Bitte füllen Sie alle Felder korrekt aus und akzeptieren Sie die Datenschutzrichtlinie.' }}</p>
            </div>
            }
        </form>
    </div>
</section>